# -- DO NOT EDIT -- generated by puppet
# <%= file %> 
#
  location ^~ /trac {
    root /home/trac/products;

    fastcgi_pass   <%= @trac_fcgi_socket %>;

    # python - wsgi specific
    # fastcgi_param HTTPS on;

    ## WSGI REQUIRED VARIABLES
    # WSGI application name - trac instance prefix.
    # (Or ``fastcgi_param  SCRIPT_NAME  /some/prefix``.)
    fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
    fastcgi_param  PATH_INFO          $fastcgi_path_info;

    ## WSGI NEEDED VARIABLES - trac warns about them
    fastcgi_param  REQUEST_METHOD     $request_method;
    fastcgi_param  SERVER_NAME        $server_name;
    fastcgi_param  SERVER_PORT        $server_port;
    fastcgi_param  SERVER_PROTOCOL    $server_protocol;
    fastcgi_param  QUERY_STRING       $query_string;

    # For Nginx authentication to work - do not forget to comment these
    # lines if not using Nginx for authentication
    #fastcgi_param  AUTH_USER          $remote_user;
    #fastcgi_param  REMOTE_USER        $remote_user;

    # for ip to work
    fastcgi_param REMOTE_ADDR         $remote_addr;

    # For attchments to work
    fastcgi_param    CONTENT_TYPE     $content_type;
    fastcgi_param    CONTENT_LENGTH   $content_length;

  }

